# Документация для проекта управления базой данных криптовалютных транзакций

## Предметная область

База данных предназначена для управления записями транзакций, связанных с криптовалютами. Каждая транзакция характеризуется следующими полями:

- **TransactionID** (уникальный идентификатор транзакции, целое число);
- **UserID** (идентификатор пользователя, целое число);
- **CryptoSymbol** (символ криптовалюты, строка);
- **TransactionType** (тип транзакции: покупка или продажа, строка);
- **Amount** (сумма транзакции, число с плавающей точкой).

Цель проекта — предоставить удобный инструмент для создания, чтения, обновления, удаления записей (CRUD-операции), а также возможность резервного копирования и экспорта данных.

---

## Функционал

### Основные возможности:

1. **Создание базы данных**: инициализация базы данных с пустой таблицей.
2. **Загрузка базы данных**: загрузка существующего файла базы данных.
3. **Добавление записей**: добавление новой транзакции с проверкой уникальности `TransactionID`.
4. **Удаление записей**:
   - Удаление по любому полю (`TransactionID`, `UserID`, `CryptoSymbol`, `TransactionType`, `Amount`).
   - Удаление одной или нескольких записей.
5. **Редактирование записей**: обновление данных существующей транзакции по её `TransactionID`.
6. **Поиск записей**:
   - Поиск записей по любому полю.
   - Использование индексов для ускорения поиска по `UserID` и `CryptoSymbol`.
7. **Резервное копирование**: создание резервной копии базы данных.
8. **Восстановление из резервной копии**: восстановление данных из последней резервной копии.
9. **Экспорт в Excel**: сохранение данных в формате Excel.
10. **Удаление базы данных**: удаление всех данных из памяти и удаление файла базы данных.
11. **Замер времени выполнения операций**: вывод времени выполнения для всех основных операций.

---

## Формат ввода данных

Каждая запись в базе данных должна соответствовать следующему формату:

- `TransactionID`: целое число (уникальный идентификатор).
- `UserID`: целое число (идентификатор пользователя).
- `CryptoSymbol`: строка (например, "BTC", "ETH").
- `TransactionType`: строка ("BUY" или "SELL").
- `Amount`: число с плавающей точкой (например, 1234.56).

Пример ввода для новой записи:

```json
{
  "TransactionID": 1,
  "UserID": 100,
  "CryptoSymbol": "BTC",
  "TransactionType": "BUY",
  "Amount": 0.5
}
```

---

## Алгоритмическая сложность

### Основные операции:

1. **Создание записи**:
   - Вставка: `O(log N)` (благодаря сортировке `TransactionID`).
   - Сохранение в файл: `O(N)`.
   - Общая сложность: `O(N)`.
2. **Удаление записи**:
   - По `TransactionID`: поиск `O(log N)` + удаление со сдвигом элементов `O(N)`.
   - По `UserID` или `CryptoSymbol`: доступ к индексу `O(1)` + удаление записей `O(K)`, где `K` — количество удаляемых записей.
   - По другим полям (`TransactionType`, `Amount`): линейный поиск `O(N)` + удаление `O(N)`.
3. **Поиск записи**:
   - По индексу (`UserID` или `CryptoSymbol`): `O(1)` для доступа к индексу + `O(K)` (где `K` — количество найденных записей).
   - По другим полям: линейный поиск `O(N)`.
4. **Редактирование записи**:
   - Поиск `O(log N)` + обновление: `O(1)`.
   - Общая сложность: `O(log N)`.
5. **Сохранение и загрузка данных**: `O(N)` (обработка всех записей).
6. **Резервное копирование и восстановление**: копирование файлов `O(N)`.

---

## Примечания

- Индексы используются для ускорения поиска по полям `UserID` и `CryptoSymbol`.
- Для работы с индексами используется хэш-таблица, что обеспечивает сложность доступа `O(1)`.
- Методы замера времени выполнения позволяют разработчикам анализировать производительность и оптимизировать работу.
- Программа поддерживает как графический интерфейс на базе `Tkinter`, так и управление через код.
